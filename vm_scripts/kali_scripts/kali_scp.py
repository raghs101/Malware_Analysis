import paramiko
import sys


class scp_tra:
    def __init__(self,file_path):
        self.file_path = file_path
    def transfer(self):
        ssh = paramiko.SSHClient()
        ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())

        

        ssh.connect("192.168.1.17", port=22, username="remnux", password="malware")

                
        scp = ssh.open_sftp()
        a = self.file_path.split('/')
        
        
        
        
        scp.put(f"{self.file_path}",f"/home/remnux/{a[-1]}")
        scp.close()
        ssh.close()


class ssh_trans:
    def __init__(self,file_path):
        self.file_path = file_path
        ssh = paramiko.SSHClient()
        ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        a = self.file_path.split('/')
        
        

        ssh.connect("192.168.1.17", port=22, username="remnux", password="malware")
        command1 = f"./return.sh"  # Use sudo -S for interactive password prompt
        stdin, stdout, stderr = ssh.exec_command(command1)
        

cs = scp_tra("lolo.dat")
cs.transfer()
cs = scp_tra("process_tree.dat")
cs.transfer()

ssh_trans(f"{file}")
